/*BIEN*/
CREATE TABLE CIUDAD (
ID NUMBER(5) CONSTRAINT CIUDAD_ID_NONULA NOT NULL CONSTRAINT CIUDAD_ID_PK PRIMARY KEY,
NOMBRE VARCHAR(30) CONSTRAINT CIUDAD_NOMBRE_NONULA NOT NULL CONSTRAINT CIUDAD_NOMBRE_UNICO UNIQUE
);

/*FALTA A�ADIR LA DIRECCI�N QUE DEBER�A SER DE N A N*/
CREATE TABLE USUARIO(
DNI VARCHAR(9) CONSTRAINT USUARIO_DNI_NONULO NOT NULL CONSTRAINT USUARIO_DNI_PK PRIMARY KEY,
NOMBRE VARCHAR(25) CONSTRAINT USUARIO_NOMBRE_NONULO NOT NULL CONSTRAINT USUARIO_NOMBRE_UNICO UNIQUE,
APELLIDOS VARCHAR(40) CONSTRAINT USUARIONAPELLIDONONULO NOT NULL CONSTRAINT USUARIOAPELLIDOUNICO UNIQUE,
EMAIL VARCHAR(60) CONSTRAINT USUARIO_EMAIL_NONULO NOT NULL CONSTRAINT USUARIO_EMAIL_UNICO UNIQUE,
CONTRA VARCHAR(32) CONSTRAINT USUARIO_CONTRA_NONULO NOT NULL,
FECHA_NACIMIENTO DATE CONSTRAINT USUARIO_FECHA_NACIMIENTO_NONULO NOT NULL
);

/*BIEN*/
CREATE TABLE TIPO_DATO_BANCARIO(
ID NUMBER(2) CONSTRAINT TIPO_DATO_BANCARIO_ID_NONULO NOT NULL CONSTRAINT TIPO_DATO_BANCARIO_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR (25) CONSTRAINT TIPO_DATO_BANCARIO_DENOMINACION_NONULO NOT NULL CONSTRAINT TIPO_DATO_BANCARIO_DENOMINACION_UNICO UNIQUE
);

/*BIEN*/
CREATE TABLE PUESTO(
ID NUMBER(4) CONSTRAINT PUESTO_ID_NONULO NOT NULL CONSTRAINT PUESTO_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR(30) CONSTRAINT PUESTO_DENOMINACION_NONULO NOT NULL CONSTRAINT PUESTO_DENOMINACION_UNICO UNIQUE
);

/*BIEN*/
CREATE TABLE ESTADO_PEDIDO(
ID NUMBER(2) CONSTRAINT ESTADO_PEDIDO_ID_NONULO NOT NULL CONSTRAINT ESTADO_PEDIDO_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR(20) ESTADO_PEDIDO_DENOMINACION_NONULO NOT NULL CONSTRAINT ESTADO_PEDIDO_DENOMINACION_UNICO UNIQUE
);

/*BIEN*/
CREATE TABLE CODIGO_POSTAL(
CODIGO NUMBER(7) CONSTRAINT CODIGO_POSTAL_NONULO NOT NULL CONSTRAINT CODIGO_POSTAL_PK PRIMARY KEY,
CIUDAD_ID NUMBER(5) CONSTRAINT CODIGO_POSTAL_CIUDAD_ID_NONULA NOT NULL CONSTRAINT CODIGO_POSTAL_CIUDAD_ID_FK_CIUDAD_ID REFERENCES CIUDAD(ID)
);


/*BIEN*/
CREATE TABLE DIRECCION(
ID NUMBER(9) CONSTRAINT DIRECCION_ID_NONULO NOT NULL CONSTRAINT DIRECCION_ID_PK PRIMARY KEY,
DIR VARCHAR(40) CONSTRAINT DIRECCION_DIR_NONULO NOT NULL CONSTRAINT DIRECCION_DIR_UNICO UNIQUE
CIUDAD_ID NUMBER(5) CONSTRAINT DIRECCION_CIUDAD_ID_NONULO NOT NULL CONSTRAINT DIRECCION_CIUDAD_ID_FK_CIUDAD_ID REFERENCES CIUDAD(ID),
CP NUMBER(7) CONSTRAINT DIRECCION_CODIGO_POSTAL_NONULO NOT NULL CONSTRAINT DIRECCION_CODIGO_POSTAL_FK_CODIGO_POSTAL_CODIGO REFERENCES CODIGO_POSTAL(CODIGO)
);

/*
CREATE TABLE DIR_REL_USUARIO(
DNI_USUARIO VARCHAR(9) CONSTRAINT DIR_REL_USUARIO_DNI_NO_NULO NOT NULL,
ID_DIRECCION NUMBER(9) CONSTRAINT DIR_REL_USUARIO_ID_DIRECCION_NONULO NOT NULL,
CONSTRAINT DIR_REL_USUARIO_PK_DNI_IDDIR PRIMARY KEY(DNI_USUARIO,ID_DIRECCION),
FOREIGN KEY 
);

*/
/*FALTA CREAR RELACIÓN DE N A N CON ALMACÉN*/
CREATE TABLE MODELO(
ID NUMBER (9) CONSTRAINT MODELO_ID_NONULO NOT NULL CONSTRAINT MODELO_ID_PK PRIMARY KEY,
NOMBRE VARCHAR(25) CONSTRAINT MODELO_NOMBRE_NONULO NOT NULL CONSTRAINT MODELO_NOMBRE_UNICO UNIQUE
);

/*FALTA CREAR RELACIÓN DE N A N CON PEDIDO*/
CREATE TABLE PRODUCTO(
ID NUMBER (9) CONSTRAINT PRODUCTO_ID_NONULO NOT NULL CONSTRAINT PRODUCTO_ID_PK PRIMARY KEY,
DESCRIPCION VARCHAR(45) CONSTRAINT PRODUCTO_DESCRIPCION_NONULO NOT NULL,
NOMBRE VARCHAR(25) CONSTRAINT PRODUCTO_NOMBRE_NONULO NOT NULL CONSTRAINT PRODUCTO_NOMBRE_UNICO UNIQUE,
PRECIO NUMBER (6) CONSTRAINT PRODUCTO_PRECIO_NONULO NOT NULL,
MODELO_ID NUMBER(9)  CONSTRAINT PRODUCTO_MODELO_ID_NONULO NOT NULL CONSTRAINT PRODUCTO_MODELO_ID_FK_MODELO_ID REFERENCES MODELO(ID)
);

/*FALTA CREAR RELACIÓN DE N A N CON PEDIDO*/
CREATE TABLE ALMACEN(
ID NUMBER(9) CONSTRAINT ALMACEN_ID_NONULO NOT NULL CONSTRAINT ALMACEN_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR(20) CONSTRAINT ALMACEN_DENOMINACION_NONULO NOT NULL
);

CREATE TABLE CENTRO_DE_OPERACIONES(
ID NUMBER(9) CONSTRAINT CENTRO_DE_OPERACIONES_ID_NONULO NOT NULL CONSTRAINT CENTRO_DE_OPERACIONES_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR(20) CONSTRAINT CENTRO_DE_OPERACIONES_DENOMINACION_NONULO NOT NULL
);

CREATE TABLE OFICINA(
ID NUMBER(9) CONSTRAINT OFICINA_ID_NONULO NOT NULL CONSTRAINT OFICINA_ID_PK PRIMARY KEY,
DENOMINACION VARCHAR(20) CONSTRAINT OFICINA_DENOMINACION_NONULO NOT NULL
);

CREATE TABLE DATO_BANCARIO(
NUM VARCHAR(24) CONSTRAINT DATO_BANCARIO_NUM_NONULO NOT NULL CONSTRAINT DATO_BANCARIO_NUM_PK PRIMARY KEY,
CVV NUMBER(3) CONSTRAINT DATO_BANCARIO_CVV_NONULO NOT NULL,
TIPO_DATO_BANCARIO_ID NUMBER(2) CONSTRAINT DATO_BANCARIO_TIPO_DATO_BANCARIO_ID_NONULO NOT NULL CONSTRAINT DATO_BANCARIO_TIPO_DATO_BANCARIO_ID_FK_DATO_BANCARIO_ID REFERENCES TIPO_DATO_BANCARIO(ID),
USUARIO_DNI VARCHAR(9) CONSTRAINT DATO_BANCARIO_USUARIO_DNI_NONULO NOT NULL CONSTRAINT DATO_BANCARIO_USUARIO_DNI_FK_USUARIO_DNI REFERENCES USUARIO(DNI)
);
/*FALTA EL PEDIDO, QUE TIENE QUE SER CREADO ANTES (DE 1 A N) */
CREATE TABLE RECLAMACION( 
ID NUMBER(9) CONSTRAINT RECLAMACION_ID_NONULO NOT NULL CONSTRAINT RECLAMACION_ID_PK PRIMARY KEY,
DENOMINACION  VARCHAR(20) CONSTRAINT RECLAMACION_DENOMINACION_NONULO NOT NULL,
NUM_RECLAMACION NUMBER (9) CONSTRAINT RECLAMACION_NUM_RECLAMACION_NONULO CONSTRAINT RECLAMACION_NUM_RECLAMACION_UNICO UNIQUE,
DESCRIPCION VARCHAR(25) CONSTRAINT RECLAMACION_DESCRIPCION_NONULO NOT NULL
);

CREATE TABLE EMPLEADO(
DNI NUMBER(8) CONSTRAINT EMPLEADO_DNI_NONULO NOT NULL CONSTRAINT EMPLEADO_DNI_PK PRIMARY KEY,
NOMBRE VARCHAR(20) CONSTRAINT EMPLEADO_NOMBRE_NONULO NOT NULL,
APELLIDOS VARCHAR (40) CONSTRAINT EMPLEADO_APELLIDOS_NONULO NOT NULL,
FECHA_NACIMIENTO DATE CONSTRAINT EMPLEADO_FECHA_NACIMIENTO_NONULO NOT NULL,
EMAIL VARCHAR(25) CONSTRAINT EMPLEADO_EMAIL_NONULO NOT NULL,
NSS NUMBER(12) CONSTRAINT EMPLEADO_NSS_NONULO NOT NULL,
ID_PUESTO NUMBER(4) CONSTRAINT EMPLEADO_ID_PUESTO_NONULO NOT NULL CONSTRAINT EMPLEADO_ID_PUESTO_FK_ID_PUESTO REFERENCES PUESTO(ID),
ID_OFICINA NUMBER(9) CONSTRAINT EMPLEADO_ID_OFICINA_NONULO NOT NULL CONSTRAINT EMPLEADO_ID_OFICINA_FK_ID_OFICINA REFERENCES OFICINA(ID),
ID_ALMACEN NUMBER(9) CONSTRAINT EMPLEADO_ID_ALMACEN_NONULO NOT NULL CONSTRAINT EMPLEADO_ID_ALMACEN_FK_ID_ALMACEN REFERENCES ALMACEN(ID),
ID_DIRECCION NUMBER(9) CONSTRAINT EMPLEADO_ID_DIRECCION_NONULO NOT NULL CONSTRAINT EMPLEADO_ID_DIRECCION_FK_ID_DIRECCION REFERENCES DIRECCION(ID),
DNI_JEFE NUMBER NUMBER(8) CONSTRAINT DNI_JEFE_NONULO NOT NULL
);